<?xml version="1.0" encoding="UTF-8"?>

<heisenberg:schema xmlns:heisenberg="https://github.com/brucexx/heisenberg">

	<!-- schema定义 -->
	<!-- schema name="db_shard"> <table name="tb1" dataNode="dn_shard$0-1" rule="rule1" 
		/> </schema -->

	<schema name="trans_shard">
		<!--table name="trans_tb" dataNode="trans_shard$0-9" rule="rule1" />
		<table name="trans_content" dataNode="trans_shard$0-9" rule="rule1" />
		<table name="trans_tb_ext" dataNode="trans_shard$0-9" rule="rule2" /-->
		<table name="trans_online" dataNode="transDN$0-9" rule="rule1" />
		<table name="trans_content" dataNode="transDN$0-9" rule="rule1" />
		<table name="trans_tb" dataNode="transDN$0-9" rule="rule1" />
	</schema>

	<!--dataNode name="dn_shard"> <property name="dataSource"> <dataSourceRef>dsMaster$0-1</dataSourceRef> 
		</property> <property name="poolSize">256</property> <property name="heartbeatSQL">select 
		user()</property> </dataNode -->

	<dataNode name="transDN">
		<property name="dataSource">
			<!-- 主库 -->
			<dataSourceRef>transDS$0-9</dataSourceRef>
			<!-- 备库 -->
			<dataSourceRef>transSlaveDS$0-9</dataSourceRef>
			<!-- 灾库 -->
			<dataSourceRef>transSlaveDS$0-9</dataSourceRef>
			<!-- slave,暂无 -->
			<!-- dataSourceRef>ds_shard_slave$0-3</dataSourceRef -->
		</property>
		<property name="rwRule"><![CDATA[m:0,s:1]]></property>
		<property name="poolSize">256</property>
		<property name="heartbeatSQL">select user()</property>
	</dataNode>

	<dataSource name="transDS" type="mysql">
		<property name="location">
			<location>10.58.49.14:8701/db$0-9</location>
	</property>
		<property name="user">root</property>
		<property name="password">st0078</property>
        <property name="sqlMode">STRICT_TRANS_TABLES</property>
	</dataSource>
	<dataSource name="transSlaveDS" type="mysql">
		<property name="location">
			<location>10.58.49.16:8701/db$0-9</location>
		</property>
		<property name="user">root</property>
		<property name="password">st0078</property>
		<property name="sqlMode">STRICT_TRANS_TABLES</property>
	</dataSource>


	<!-- 数据源定义，数据源是一个具体的后端数据连接的表示。 -->
	<!-- dataSource name="dsMaster" type="mysql"> <property name="location"> 
		<location>10.46.188.55:8801/cobar$1-2</location> </property> <property name="user">root</property> 
		<property name="password">st0078</property> <property name="sqlMode">STRICT_TRANS_TABLES</property> 
		</dataSource -->


</heisenberg:schema>
